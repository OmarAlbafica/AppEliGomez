<div class="sidebar layout-content-container flex flex-col bg-gray-100 transition-all duration-300" 
     [ngClass]="{
       'w-80': !isSidebarCollapsed, 
       'w-16': isSidebarCollapsed
     }" style="border-right: 1px solid #e5e7eb; border-top: none; z-index:9;">
  <div class="flex h-full flex-col justify-between pt-12 pb-4 px-4">
    <!-- Botón de colapso (más grande y más arriba) -->
    <ng-container *ngIf="!isSidebarCollapsed">
      <div class="absolute top-4 right-4 z-20">
        <button 
          (click)="toggleSidebar()"
          class="p-4 rounded-xl hover:bg-gray-200 transition-colors duration-200 flex items-center justify-center"
          title="Colapsar menú">
          <svg class="w-8 h-8 transform transition-transform duration-200" 
               fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>
          </svg>
        </button>
      </div>
    </ng-container>
    <ng-container *ngIf="isSidebarCollapsed">
      <div class="flex justify-center mt-2 mb-6">
        <button 
          (click)="toggleSidebar()"
          class="p-4 rounded-xl hover:bg-gray-200 transition-colors duration-200 flex items-center justify-center"
          title="Expandir menú">
          <svg class="w-8 h-8 transform rotate-180 transition-transform duration-200" 
               fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>
          </svg>
        </button>
      </div>
    </ng-container>
    
    <div class="flex flex-col gap-4 flex-1">
      <div class="flex flex-col gap-2">
        <ng-container *ngFor="let item of items">
          <div class="flex items-center gap-3 px-3 py-2 cursor-pointer rounded-lg hover:bg-gray-200 transition-all duration-200"
               (click)="selectView(item.route)"
               [ngClass]="{
                 'selected': selectedMenuItem === item.route,
                 'bg-orange-500 text-white': selectedMenuItem === item.route && isSidebarCollapsed,
                 'justify-center': isSidebarCollapsed
               }"
               [title]="isSidebarCollapsed ? item.label : ''"
               style="min-width:0;">
            <div class="text-[#111418] flex-shrink-0" data-size="24px" data-weight="regular">
              <span class="text-lg">{{ item.icon }}</span>
            </div>
            <p *ngIf="!isSidebarCollapsed" class="text-sm font-medium leading-normal transition-all duration-200 opacity-100 w-auto">
              {{ item.label }}
            </p>
          </div>
        </ng-container>
      </div>
    </div>
    
    <!-- Botón de cerrar sesión -->
    <div [ngClass]="{ 'flex justify-center': isSidebarCollapsed, 'flex': !isSidebarCollapsed }" class="mt-4">
      <div 
        (click)="logout()"
        class="flex items-center gap-3 px-3 py-2 cursor-pointer rounded-lg border border-[#d1d5db] bg-white hover:bg-gray-100 transition-all duration-200"
        [ngClass]="{ 'collapsed-item': isSidebarCollapsed, 'w-full': !isSidebarCollapsed }"
        style="min-width:0; box-sizing: border-box;"
      >
        <span class="text-lg flex items-center justify-center" style="min-width:22px;">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
          </svg>
        </span>
        <span *ngIf="!isSidebarCollapsed" class="text-sm font-medium leading-normal transition-all duration-200 opacity-100 w-auto">Cerrar sesión</span>
      </div>
    </div>
  </div>
</div>