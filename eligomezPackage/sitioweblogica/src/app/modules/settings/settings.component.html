<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-6 transition-colors duration-300">
  <div class="max-w-7xl mx-auto space-y-6">
    <!-- Header con gradiente -->
    <div class="bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-800 dark:to-blue-900 text-white rounded-lg p-6 shadow-lg border-b-4 border-blue-800">
      <h1 class="text-3xl font-bold">⚙️ Configuración y Limpieza</h1>
      <p class="text-blue-100 dark:text-blue-200 text-sm mt-1">Gestiona la limpieza de datos inactivos</p>
    </div>

    <!-- Mensaje -->
    <div *ngIf="mensaje" 
         [ngClass]="mensaje.tipo === 'éxito' ? 'bg-green-100 dark:bg-green-900/30 border-green-400 dark:border-green-700 text-green-700 dark:text-green-300' : 'bg-red-100 dark:bg-red-900/30 border-red-400 dark:border-red-700 text-red-700 dark:text-red-300'"
         class="border rounded px-4 py-3 mb-6 transition-colors duration-300">
      {{ mensaje.texto }}
    </div>

    <!-- Progress Bar durante eliminación -->
    <div *ngIf="eliminando" class="bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-400 dark:border-yellow-700 rounded-lg p-6 mb-6 transition-colors duration-300">
      <div class="mb-4">
        <p class="font-bold text-yellow-800 dark:text-yellow-300 mb-2 transition-colors duration-300">📊 Progreso de Eliminación</p>
        <p class="text-sm text-yellow-700 dark:text-yellow-400 transition-colors duration-300">{{ procesoActual }}</p>
    </div>
    
    <!-- Progress Bar -->
    <div class="w-full bg-gray-300 dark:bg-gray-700 rounded-full h-4 overflow-hidden mb-2 transition-colors duration-300">
      <div [style.width.%]="progreso" 
           class="bg-gradient-to-r from-yellow-400 dark:from-yellow-500 to-yellow-600 dark:to-yellow-700 h-full transition-all duration-300 flex items-center justify-center">
        <span *ngIf="progreso > 10" class="text-xs font-bold text-white">{{ progreso }}%</span>
      </div>
    </div>
    
    <div class="flex justify-between text-xs text-gray-600 dark:text-gray-400 transition-colors duration-300">
      <span>{{ procesoActualIndex }} / {{ totalProceso }}</span>
      <span>{{ progreso }}%</span>
    </div>
    </div>
  </div>

    <!-- Grid de opciones -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- Eliminar Clientes Inactivos -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-red-500 transition-colors duration-300">
      <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white transition-colors duration-300">👥 Clientes Inactivos</h2>
      <p class="text-gray-600 dark:text-gray-400 mb-4 transition-colors duration-300">Elimina permanentemente todos los clientes marcados como inactivos.</p>
      
      <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded p-4 mb-4 transition-colors duration-300">
        <p class="font-bold text-red-800 dark:text-red-300 transition-colors duration-300">⚠️ Encontrados: <span class="text-2xl">{{ clientesInactivos.length }}</span></p>
        <p class="text-sm text-red-700 dark:text-red-400 mt-2 transition-colors duration-300">Esta acción es irreversible</p>
      </div>

      <button (click)="eliminarClientesInactivos()" 
              [disabled]="clientesInactivos.length === 0 || eliminando"
              class="w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-400 dark:disabled:bg-gray-600 text-white px-4 py-2 rounded-lg font-bold transition">
        <span *ngIf="!eliminando">🗑️ Eliminar {{ clientesInactivos.length }} Clientes</span>
        <span *ngIf="eliminando">⏳ Eliminando...</span>
      </button>

      <div *ngIf="clientesInactivos.length > 0" class="mt-4 max-h-48 overflow-y-auto bg-gray-50 dark:bg-gray-700 rounded p-3 transition-colors duration-300">
        <p class="text-xs font-bold text-gray-600 dark:text-gray-400 mb-2 transition-colors duration-300">Clientes a eliminar:</p>
        <ul class="text-sm space-y-1">
          <li *ngFor="let cliente of clientesInactivos" class="text-gray-700 dark:text-gray-300 transition-colors duration-300">
            • {{ cliente.nombre }} ({{ cliente.telefono }})
          </li>
        </ul>
      </div>
    </div>

    <!-- Eliminar Encomendistas Inactivas -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-purple-500 transition-colors duration-300">
      <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white transition-colors duration-300">🚚 Encomendistas Inactivas</h2>
      <p class="text-gray-600 dark:text-gray-400 mb-4 transition-colors duration-300">Elimina permanentemente todas las encomendistas marcadas como inactivas.</p>
      
      <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700 rounded p-4 mb-4 transition-colors duration-300">
        <p class="font-bold text-purple-800 dark:text-purple-300 transition-colors duration-300">⚠️ Encontradas: <span class="text-2xl">{{ encomendistasInactivas.length }}</span></p>
        <p class="text-sm text-purple-700 dark:text-purple-400 mt-2 transition-colors duration-300">Esta acción es irreversible</p>
      </div>

      <button (click)="eliminarEncomendistasInactivas()" 
              [disabled]="encomendistasInactivas.length === 0 || eliminando"
              class="w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 dark:disabled:bg-gray-600 text-white px-4 py-2 rounded-lg font-bold transition">
        <span *ngIf="!eliminando">🗑️ Eliminar {{ encomendistasInactivas.length }} Encomendistas</span>
        <span *ngIf="eliminando">⏳ Eliminando...</span>
      </button>

      <div *ngIf="encomendistasInactivas.length > 0" class="mt-4 max-h-48 overflow-y-auto bg-gray-50 dark:bg-gray-700 rounded p-3 transition-colors duration-300">
        <p class="text-xs font-bold text-gray-600 dark:text-gray-400 mb-2 transition-colors duration-300">Encomendistas a eliminar:</p>
        <ul class="text-sm space-y-1">
          <li *ngFor="let encomendista of encomendistasInactivas" class="text-gray-700 dark:text-gray-300 transition-colors duration-300">
            • {{ encomendista.nombre }} ({{ encomendista.telefono || 'Sin teléfono' }})
          </li>
        </ul>
      </div>
    </div>

    <!-- Información general -->
    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg shadow-md p-6 border-l-4 border-blue-500 transition-colors duration-300">
      <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white transition-colors duration-300">ℹ️ Información</h2>
      <div class="space-y-4 text-sm">
        <div>
          <p class="font-bold text-blue-900 dark:text-blue-300 transition-colors duration-300">Total de Clientes:</p>
          <p class="text-blue-700 dark:text-blue-400 transition-colors duration-300">{{ clientesTotal }} ({{ clientesInactivos.length }} inactivos)</p>
        </div>
        <div>
          <p class="font-bold text-blue-900 dark:text-blue-300 transition-colors duration-300">Total de Encomendistas:</p>
          <p class="text-blue-700 dark:text-blue-400 transition-colors duration-300">{{ encomendistasTotal }} ({{ encomendistasInactivas.length }} inactivas)</p>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded p-3 mt-4">
          <p class="text-xs text-gray-600 dark:text-gray-400">⚠️ Los datos inactivos se marcan así al eliminarlos de sus respectivos módulos. Esta sección permite limpiarlos completamente de la base de datos.</p>
        </div>
      </div>
    </div>

  </div>
</div>
